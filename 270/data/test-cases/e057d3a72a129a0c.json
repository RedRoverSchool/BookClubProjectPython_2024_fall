{"uid":"e057d3a72a129a0c","name":"Verify Tutors Not Displayed With Min Price More Than Current Tutors Prices[Chromium]","fullName":"tests.test_find_tutor#test_verify_tutors_not_displayed_with_min_price_more_than_current_tutors_prices","historyId":"ceefd6f7ac21904feddc52ad354c4399","time":{"start":1734909825474,"stop":1734909828079,"duration":2605},"description":"\n    Проверка, что после ввода в поле фильтра \"Минимальная цена (от)\" значения большего, чем текущие цены репетиторов, список\n    репетиторов пустой и отображается сообщение \"Нет результатов\". Учитывается пролистывание списка репетиторов.\n    ","descriptionHtml":"<pre><code>Проверка, что после ввода в поле фильтра &quot;Минимальная цена (от)&quot; значения большего, чем текущие цены репетиторов, список\nрепетиторов пустой и отображается сообщение &quot;Нет результатов&quot;. Учитывается пролистывание списка репетиторов.\n</code></pre>\n","status":"broken","statusMessage":"ValueError: substring not found","statusTrace":"find_tutor = <components.find_tutor.FindTutor object at 0x7fa44a0f3650>\n\n    @allure.title(\"TC_05.001.006.005\")\n    @allure.link(\"https://github.com/RedRoverSchool/BookClubQA_Python_2024_fall/issues/334\")\n    def test_verify_tutors_not_displayed_with_min_price_more_than_current_tutors_prices(find_tutor):\n        \"\"\"\n        Проверка, что после ввода в поле фильтра \"Минимальная цена (от)\" значения большего, чем текущие цены репетиторов, список\n        репетиторов пустой и отображается сообщение \"Нет результатов\". Учитывается пролистывание списка репетиторов.\n        \"\"\"\n        find_tutor.open_find_tutor_page()\n>       min_price = find_tutor.find_max_tutors_price() + fake.random_int(1, 1000)\n\ntests/test_find_tutor.py:52: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <components.find_tutor.FindTutor object at 0x7fa44a0f3650>\n\n    @allure.step(\"В списке репетиторов на всех страницах находим максимальную цену за занятие\")\n    def find_max_tutors_price(self) -> object:\n        max_price = 0\n        page = 0\n    \n        while True:  # Начинаем поиск с первой страницы, если имеются еще страницы, то заходим в цикл пока они не закончатся\n            teachers_list_price = self.page.locator(\".card-text\")\n            page += 1\n            print(f\"Страница {page}, текущий максимум {max_price}\")\n    \n            if teachers_list_price.count() > 0:\n                # Если репетиторы есть, то ищем среди них того, чья стоимость занятия больше текущего максимума\n                for i in range(teachers_list_price.count()):\n                    intro = teachers_list_price.nth(i).text_content().strip()\n                    print(intro)\n                    intro_without_first_word = intro.replace(\"Цена:\", '').strip()\n                    print(intro_without_first_word)\n>                   space_index = intro_without_first_word.index(\" \")\nE                   ValueError: substring not found\n\ncomponents/find_tutor.py:168: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1734909775529,"stop":1734909775529,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1734909775529,"stop":1734909775529,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1734909775530,"stop":1734909775530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_session_faker","time":{"start":1734909775530,"stop":1734909775531,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_verify_url","time":{"start":1734909775530,"stop":1734909775530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type_launch_args","time":{"start":1734909775531,"stop":1734909775531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright","time":{"start":1734909775531,"stop":1734909775783,"duration":252},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_type","time":{"start":1734909775783,"stop":1734909775783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"launch_browser","time":{"start":1734909775783,"stop":1734909775783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1734909775783,"stop":1734909775977,"duration":194},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1734909775977,"stop":1734909775977,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder","time":{"start":1734909775978,"stop":1734909775992,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser_context_args","time":{"start":1734909775992,"stop":1734909775992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_artifacts_recorder","time":{"start":1734909825426,"stop":1734909825426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"output_path","time":{"start":1734909825426,"stop":1734909825426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_root_dir","time":{"start":1734909825426,"stop":1734909825426,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context","time":{"start":1734909825427,"stop":1734909825427,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1734909825427,"stop":1734909825431,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1734909825431,"stop":1734909825473,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"video_and_screenshot","time":{"start":1734909825473,"stop":1734909825473,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"find_tutor","time":{"start":1734909825473,"stop":1734909825473,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Проверка, что после ввода в поле фильтра \"Минимальная цена (от)\" значения большего, чем текущие цены репетиторов, список\n    репетиторов пустой и отображается сообщение \"Нет результатов\". Учитывается пролистывание списка репетиторов.\n    ","status":"broken","statusMessage":"ValueError: substring not found","statusTrace":"find_tutor = <components.find_tutor.FindTutor object at 0x7fa44a0f3650>\n\n    @allure.title(\"TC_05.001.006.005\")\n    @allure.link(\"https://github.com/RedRoverSchool/BookClubQA_Python_2024_fall/issues/334\")\n    def test_verify_tutors_not_displayed_with_min_price_more_than_current_tutors_prices(find_tutor):\n        \"\"\"\n        Проверка, что после ввода в поле фильтра \"Минимальная цена (от)\" значения большего, чем текущие цены репетиторов, список\n        репетиторов пустой и отображается сообщение \"Нет результатов\". Учитывается пролистывание списка репетиторов.\n        \"\"\"\n        find_tutor.open_find_tutor_page()\n>       min_price = find_tutor.find_max_tutors_price() + fake.random_int(1, 1000)\n\ntests/test_find_tutor.py:52: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <components.find_tutor.FindTutor object at 0x7fa44a0f3650>\n\n    @allure.step(\"В списке репетиторов на всех страницах находим максимальную цену за занятие\")\n    def find_max_tutors_price(self) -> object:\n        max_price = 0\n        page = 0\n    \n        while True:  # Начинаем поиск с первой страницы, если имеются еще страницы, то заходим в цикл пока они не закончатся\n            teachers_list_price = self.page.locator(\".card-text\")\n            page += 1\n            print(f\"Страница {page}, текущий максимум {max_price}\")\n    \n            if teachers_list_price.count() > 0:\n                # Если репетиторы есть, то ищем среди них того, чья стоимость занятия больше текущего максимума\n                for i in range(teachers_list_price.count()):\n                    intro = teachers_list_price.nth(i).text_content().strip()\n                    print(intro)\n                    intro_without_first_word = intro.replace(\"Цена:\", '').strip()\n                    print(intro_without_first_word)\n>                   space_index = intro_without_first_word.index(\" \")\nE                   ValueError: substring not found\n\ncomponents/find_tutor.py:168: ValueError","steps":[{"name":"Открываем Найти Репетитора на главной странице","time":{"start":1734909825474,"stop":1734909827365,"duration":1891},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"В списке репетиторов на всех страницах находим максимальную цену за занятие","time":{"start":1734909827365,"stop":1734909828079,"duration":714},"status":"broken","statusMessage":"ValueError: substring not found\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/BookClubQA_Python_2024_fall/BookClubQA_Python_2024_fall/components/find_tutor.py\", line 168, in find_max_tutors_price\n    space_index = intro_without_first_word.index(\" \")\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"video_and_screenshot::0","time":{"start":1734909828087,"stop":1734909828338,"duration":251},"status":"passed","steps":[],"attachments":[{"uid":"298e9ad684c0934f","name":"screenshot","source":"298e9ad684c0934f.png","type":"image/png","size":90835},{"uid":"61c3c7bc66fdeb33","name":"video","source":"61c3c7bc66fdeb33.webm","type":"video/webm","size":97080}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"_artifacts_recorder::0","time":{"start":1734909828339,"stop":1734909828345,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"new_context::0","time":{"start":1734909828339,"stop":1734909828339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_pw_artifacts_folder::0","time":{"start":1734909984296,"stop":1734909984301,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser::0","time":{"start":1734909984303,"stop":1734909984336,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright::0","time":{"start":1734909984338,"stop":1734909984350,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_find_tutor"},{"name":"host","value":"fv-az1933-439"},{"name":"thread","value":"3221-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_find_tutor"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"browser_name","value":"'chromium'"}],"links":[{"name":"https://github.com/RedRoverSchool/BookClubQA_Python_2024_fall/issues/334","url":"https://github.com/RedRoverSchool/BookClubQA_Python_2024_fall/issues/334","type":"link"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":6,"skipped":0,"passed":0,"unknown":0,"total":6},"items":[{"uid":"829fd0870172d17e","reportUrl":"https://RedRoverSchool.github.io/BookClubQA_Python_2024_fall/269//#testresult/829fd0870172d17e","status":"broken","statusDetails":"ValueError: substring not found","time":{"start":1734908945081,"stop":1734908948397,"duration":3316}},{"uid":"7926205106cc8e10","reportUrl":"https://RedRoverSchool.github.io/BookClubQA_Python_2024_fall/267//#testresult/7926205106cc8e10","status":"broken","statusDetails":"ValueError: substring not found","time":{"start":1734908508994,"stop":1734908511916,"duration":2922}},{"uid":"ba36646deda4d3e5","reportUrl":"https://RedRoverSchool.github.io/BookClubQA_Python_2024_fall/266//#testresult/ba36646deda4d3e5","status":"broken","statusDetails":"ValueError: substring not found","time":{"start":1734908089492,"stop":1734908092089,"duration":2597}},{"uid":"3f19cb417b44b159","reportUrl":"https://RedRoverSchool.github.io/BookClubQA_Python_2024_fall/265//#testresult/3f19cb417b44b159","status":"broken","statusDetails":"playwright._impl._errors.TimeoutError: Locator.text_content: Timeout 30000ms exceeded.\nCall log:\n  - waiting for locator(\"//div[@class='alert alert-info']\")","time":{"start":1734904535759,"stop":1734904568988,"duration":33229}},{"uid":"1e0ea00350ade5db","reportUrl":"https://RedRoverSchool.github.io/BookClubQA_Python_2024_fall/264//#testresult/1e0ea00350ade5db","status":"broken","statusDetails":"IndexError: list index out of range","time":{"start":1734900835366,"stop":1734900837938,"duration":2572}}]},"tags":[]},"source":"e057d3a72a129a0c.json","parameterValues":["'chromium'"]}